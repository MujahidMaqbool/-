<div class="row" *ngIf="showError">
    <div class="col-md-12">
        <div class="alert alert-danger">
            {{validationError}}
        </div>
    </div>
</div>
<!-- isTimeDurationValidation ? messages.Error.ValueMustBeGreatThenZero :  -->
<div class="white_bg waitlist_items">
    <div class="row center_flex_alignment">
        <div class="col-md-12 col-sm-12">
            <h1>Cancellation Policy</h1>
            <p>With Wellyx, you can choose to apply policies to manage cancellations, reschedules and no shows for
                classes and services. You can also apply fees for late cancellations and no shows.</p>
        </div>
    </div>

</div>

<!---Membership Cancellations--->
<div *ngIf="hasMembershipCancellationPolicy" class="white_bg waitlist_items">
    <div class="row center_flex_alignment">
        <div class="col-md-9 col-sm-9">
            <h1>Membership Cancellation Policy</h1>
            <p>Toggle on to enable members to cancel their membership from the widget & customer app. If the toggle is
                off, membership can still be cancelled from core.</p>
        </div>
        <div class="col-md-3 col-sm-3">
            <mat-slide-toggle
                [(ngModel)]="cancellationPolicy.membershipCancellationPolicy.IsMembershipCancellationPolicyEnabled"
                (change)="membershipCancelToggle($event)" class="wellyx-checked float-right"
                name="isMembershipCancellationPolicyEnabled">
            </mat-slide-toggle>
        </div>
        <div class="col-md-12"
            *ngIf="cancellationPolicy.membershipCancellationPolicy.IsMembershipCancellationPolicyEnabled">
            <div class="form_border my-10"></div>
        </div>
    </div>
    <div class="row" *ngIf="cancellationPolicy.membershipCancellationPolicy.IsMembershipCancellationPolicyEnabled">
        <div class="mr-3"></div>
        <div class="media-body">
            <div class="row waitlist_subtitle align-items-center">
                <div class="col-md-9">
                    <h3>Cancel Anytime - Widget & Customer App</h3>
                    <p>Toggle on to allow customers to cancel their membership at anytime from the widget & app.
                        Cancelling a membership would result in the immediate termination of benefits and all future
                        payments.</p>
                </div>
                <div class="col-md-3 pr-0 mob-pa">
                    <mat-slide-toggle
                        [(ngModel)]="cancellationPolicy.membershipCancellationPolicy.IsCancelAnyTimeEnabledForWidgetAndApp"
                        (change)="anyTimeCancelToggle($event)" class="wellyx-checked float-right"
                        name="IsCancelAnyTime">
                    </mat-slide-toggle>
                </div>
                <div class="col-md-12 pr-0 mob-pa">
                    <div class="form_border my-10"></div>
                </div>
            </div>

            <div class="row waitlist_subtitle align-items-center">
                <div class="col-md-10">
                    <h3>Cancel Outside the Contract - Widget & Customer App</h3>
                    <p>Toggle on to allow customers to cancel their membership outside the contract period from the
                        widget & app. Cancelling a membership would result in the immediate termination of benefits and
                        all future payments.</p>
                </div>
                <div class="col-md-2 pr-0 mob-pa">
                    <mat-slide-toggle
                        [(ngModel)]="cancellationPolicy.membershipCancellationPolicy.IsCancelOutsideTheContractEnabledWidgetAndApp"
                        (change)="outSideCancelToggle($event)" class="wellyx-checked float-right"
                        name="IsCancelOutside">
                    </mat-slide-toggle>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Class Cancellation -->
<div class="white_bg waitlist_items" *ngIf="hasClassCancellationPolicy">
    <div class="row center_flex_alignment">
        <div class="col-md-9 col-sm-9">
            <h1>Class Cancellation Policy</h1>
            <p>Toggle on to enable class cancellation policy for core, widget & apps. If this toggle is off, class
                bookings can still be cancelled from Core.</p>
        </div>
        <div class="col-md-3 col-sm-3">
            <mat-slide-toggle tabindex="1" (change)="isClassCancellationPolicy()"
                [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellation"
                class="wellyx-checked float-right" name="isClassCancellation">
            </mat-slide-toggle>
        </div>
        <div class="col-md-12" *ngIf="cancellationPolicy.classCancellationPolicy.IsClassCancellation">
            <div class="form_border my-10"></div>
        </div>
    </div>
    <div class="row" *ngIf="cancellationPolicy.classCancellationPolicy.IsClassCancellation">
        <div class="mr-3"></div>
        <div class="media-body">
            <div *ngIf="hasClassCancellationPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-9">
                        <h3>Early Class Cancellation - Widget & App</h3>
                        <p>Toggle on to allow customers to cancel their class before the ‘Cancellation Ends Before’ time
                            from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationEarly"
                            (change)="isClassChildSwitchedOffReset()" class="wellyx-checked float-right"
                            name="classCancellationEarly">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div Class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0">
                                <h3>Early Cancellation Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they cancel a class before
                                    the ‘Cancellation Ends
                                    Before’ time.</p>
                                <textarea rows="4" maxlength="200" class="form-control"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationEarly"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationEarlyDisplayText"
                                    name="classCancellationEarlyDisplayText"
                                    placeholder="You may cancel your class according to the cancellation policy defined and request to receive a full refund."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for cancelling classes within the
                                    early
                                    cancellation window from the widget & app.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationEarly"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationEarlyBenefit"
                                    class="wellyx-checked float-right" name="isClassCancellationEarlyBenefit">
                                </mat-slide-toggle>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasClassReschedulePolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Class Reschedule</h3>
                        <p>Toggle on to allow customers to reschedule classes from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                            class="wellyx-checked float-right" name="isClassReschedule"
                            (change)="isClassChildSwitchedOffReset()">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div Class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0">
                                <h3>Class Reschedule Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they reschedule a class.
                                </p>
                                <textarea rows="4" class="form-control"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                                    maxlength="200"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassRescheduleDisplayText"
                                    name="ClassRescheduleDisplayText"
                                    placeholder="You may reschedule a class according to the reschedule policy."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Reschedule Ends Before</h3>
                                <p>The number of minutes, hours or days a customer can reschedule prior to the start
                                    time of the
                                    class booked from the widget & app. A value of 0 would result in the customers being
                                    able to
                                    reschedule the class until the start time. Once a class has started, it cannot be
                                    rescheduled.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right mob-pa label_with_input">
                                <div [ngClass]="{
                                    'has-danger': RescheduleEndBefore.invalid
                                                && (RescheduleEndBefore.dirty || RescheduleEndBefore.touched)
                                                || ((!RescheduleEndBefore.value) || RescheduleEndBefore.value == null)
                                                && showError && cancellationPolicy.classCancellationPolicy.ClassRescheduleEndsBefore,
                                    'has-success': (RescheduleEndBefore.value)
                                                && RescheduleEndBefore.valid && (RescheduleEndBefore.dirty || RescheduleEndBefore.touched)
                                    }"><input type="text" maxlength="4" min="0"
                                        [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                                        [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassRescheduleEndsBefore"
                                        (keydown)="AllowNumberNumberWithDecimal($event)"
                                        name="ClassRescheduleEndsBefore" #RescheduleEndBefore="ngModel"
                                        (ngModelChange)="onchangeDurationTimeForReschedule($event, 'reschedule')"
                                        required numberControl class="form-control text-center mb-md-0"></div>
                                <div class="select_label ">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                                        [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassRescheduleEndsBeforeDurationType">
                                        <option *ngFor="let durationType of cancellationPolicy.DurationTypeList"
                                            [ngValue]="durationType.DurationTypeID">
                                            {{durationType.DurationTypeName}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Reschedule Rule</h3>
                                <p>Define a rule for class reschedule. ‘Any Class’ would allow the customer to
                                    reschedule to any
                                    other available class, irrespective of the price. ‘Class of Same or Greater Price’
                                    would limit
                                    the customer to book something that is the same or greater price as his existing
                                    class. E.g. If
                                    the customer has booked a class for $10 and the rule is ‘Class of Same or Greater
                                    Price’, the
                                    system would only allow the customer to reschedule to a class that is $10 or more.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right mob-pa label_with_input">
                                <div class="select_label">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                                        [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassRescheduleRule">
                                        <option *ngFor="let classRescheduleRule of classCancellationRescheduleRule"
                                            [value]="classRescheduleRule.value">
                                            {{classRescheduleRule.text}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Rescheduling Limit</h3>
                                <p>How many times can a customer reschedule the booking? Once the limit is reached, the
                                    customer
                                    will no longer see the option to reschedule.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right mob-pa label_with_input">
                                <div class="select_label">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassReschedule"
                                        [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassRescheduleLimit">
                                        <option *ngFor="let classRescheduleLimit of cancellationPolicyRescheduleLimit"
                                            [ngValue]="classRescheduleLimit.value">
                                            {{classRescheduleLimit.text}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for rescheduling the original class
                                    from the
                                    widget & app.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right mob-pa label_with_input">
                                <mat-slide-toggle tabindex="1" class="wellyx-checked float-right"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassRescheduleBenefit"
                                    name="isClassCancellationLate">
                                </mat-slide-toggle>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasClassLateCancellationPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Late Cancellation</h3>
                        <p>Toggle on to allow customers to cancel their class outside the early cancellation window.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                            class="wellyx-checked float-right" name="isClassCancellationLate"
                            (change)="isClassChildSwitchedOffReset()">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div Class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0">
                                <h3>Late Cancellation Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they cancel a class
                                    outside the early cancellation
                                    window.</p>
                                <textarea rows="4" class="form-control"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                                    maxlength="200"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationLateDisplayText"
                                    name="ClassCancellationLateDisplayText"
                                    placeholder="Cancellation outside the early cancellation window will result in a late cancellation fee."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for cancelling classes after the
                                    early
                                    cancellation window has ended.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLateBenefit"
                                    class="wellyx-checked float-right" name="isClassCancellationLateBenefit">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Late Cancellation Fee</h3>
                                <p>Toggle on to charge customers a fee for late cancellation.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee"
                                    class="wellyx-checked float-right" name="BookingClasses">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div Class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ClassCancellationLateFlatFeeID"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                                            [checked]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                            type="radio" (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ClassCancellationFlatFee" name="ClassCancellationLateFlatFee"><label
                                            for="ClassCancellationLateFlatFeeID"><span></span>Flat Fee</label>
                                        <p>A specific amount you wish to charge customers for cancelling a class outside
                                            the early
                                            cancellation window.</p>
                                    </div>
                                    <div class="col-md-6 padding_right mob-pa label_with_input r_f_column">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee || !cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationLateFlatFeeClientLead"
                                                    name="ClassCancellationLateFlatFeeClientLead"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                        <div>
                                            <div class="d-flex cst-disable-checkbox"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Member</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee || !cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationLateFlatFeeMember"
                                                    name="ClassCancellationLateFlatFeeMember"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ClassCancellationLatePerFeeID"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee"
                                            [checked]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                            type="radio" (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ClassCancellationPercentageFee"
                                            name="ClassCancellationLateFlatFee"><label
                                            for="ClassCancellationLatePerFeeID"><span></span>Percentage Fee</label>
                                        <p>A percentage value of the class you wish to charge customers for cancelling a
                                            class outside the
                                            early cancellation window.</p>
                                    </div>
                                    <div class="col-md-6 padding_right mob-pa label_with_input r_f_column">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ClassIsCancellationPercentageClientLead.invalid
                                                        && (ClassIsCancellationPercentageClientLead.dirty || ClassIsCancellationPercentageClientLead.touched)
                                                        || ((!ClassIsCancellationPercentageClientLead.value) || ClassIsCancellationPercentageClientLead.value == null || ClassIsCancellationPercentageClientLead.value > 100)
                                                        && showError && cancellationPolicy.classCancellationPolicy.ClassCancellationLatePercentageFeeClientLead,
                                            'has-success': (ClassIsCancellationPercentageClientLead.value)
                                                        && ClassIsCancellationPercentageClientLead.valid && (ClassIsCancellationPercentageClientLead.dirty || ClassIsCancellationPercentageClientLead.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Client/Lead</span>
                                                <input type="text" max="100" maxlength="5"
                                                    #ClassIsCancellationPercentageClientLead="ngModel" required
                                                    numberControl (keydown)="preventCharacters($event)"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee || cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationLatePercentageFeeClientLead"
                                                    name="ClassCancellationLatePercentageFeeClientLead"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ClassIsCancellationPercentageMember.invalid
                                                        && (ClassIsCancellationPercentageMember.dirty || ClassIsCancellationPercentageMember.touched)
                                                        || ((!ClassIsCancellationPercentageMember.value) || ClassIsCancellationPercentageMember.value == null || ClassIsCancellationPercentageMember.value > 100)
                                                        && showError && cancellationPolicy.classCancellationPolicy.ClassCancellationLatePercentageFeeMember,
                                            'has-success': (ClassIsCancellationPercentageMember.value)
                                                        && ClassIsCancellationPercentageMember.valid && (ClassIsCancellationPercentageMember.dirty || ClassIsCancellationPercentageMember.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Member</span><input type="text"
                                                    (keydown)="preventCharacters($event)" max="100" maxlength="5"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)"
                                                    #ClassIsCancellationPercentageMember="ngModel" required
                                                    numberControl
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee || cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassCancellationLatePercentageFeeMember"
                                                    name="ClassCancellationLatePercentageFeeMember"
                                                    class="form-control text-center"><span
                                                    class="dollar_prefix percent_prefix mb-md-0">%</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                            <div class="col-md-12">
                                <h3>Require Payment Online</h3>
                                <p>Configure how you wish to charge customers for late cancellation from the widget &
                                    app.</p>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div Class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-12"><input id="ClassChargeInstantly" type="radio"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLateFee"
                                            [checked]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLatePaymentChargeInstantly"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ClassCancellationChargeInstantly"
                                            name="ClassCancellationLatePaymentChargeInstantly"><label
                                            for="ClassChargeInstantly"><span></span>Charge Instantly</label>
                                        <p>Customer will be unable to late cancel a class, without paying the late
                                            cancellation fee. Once
                                            the late cancellation fee is applied, the booking status & invoices will be
                                            updated accordingly.
                                        </p>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-12"><input id="ClassChargeLater" type="radio"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassCancellationLate"
                                            [checked]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLatePaymentChargeLater"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ClassCancellationChargeLater"
                                            name="ClassCancellationLatePaymentChargeInstantly"><label
                                            for="ClassChargeLater"><span></span>Charge
                                            Later</label>
                                        <p>Customer will be able to late cancel a class and the invoice will be updated
                                            instantly, however
                                            customer will not be charged automatically. The invoices can be reviewed and
                                            charged accordingly
                                            from core.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasClassAutomaticRefund">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Automatic Refunds – Widget & App</h3>
                        <p>Toggle on to automatically refund customers who are owed a refund under the early
                            cancellation,
                            late cancellation or the reschedule policy from the widget & app. Please note that only
                            customers who have paid by card will be automatically refunded. Other payment methods will
                            need
                            to be refunded manually.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassCancellationLateRefundColumn"
                            class="wellyx-checked float-right" name="isClassCancellationLateRefundColumn"
                            (change)="isClassChildSwitchedOffReset()">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasClassNoShowPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-9">
                        <h3>No Show Fee</h3>
                        <p>Toggle on to apply no show policy and charge no show fees from core.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassNoShow"
                            class="wellyx-checked float-right" (change)="isClassChildSwitchedOffReset()"
                            name="isClassNoShow">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div Class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits when marked as no show.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShow"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassNoShowBenefit"
                                    class="wellyx-checked float-right" name="isClassNoShowBenefit">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>No Show Fee</h3>
                                <p>Toggle on to charge customers a fee for no show.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShow"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassNoShowFee"
                                    class="wellyx-checked float-right" name="IsClassNoShowFee">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div Class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ClassNoShowFlatFeeID"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee"
                                            [checked]="cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                            type="radio" (change)="onChnageRadioButtonStat($event.target.value)"
                                            name="ClassNoShowFlatFee" value="ClassCancellationClassNoShowFlatFee"><label
                                            for="ClassNoShowFlatFeeID"><span></span>Flat
                                            Fee</label>
                                        <p>A specific amount you wish to charge customers for not showing up to a class.
                                        </p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee || !cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassNoShowFlatFeeClientLead"
                                                    name="ClassNoShowFlatFeeClientLead"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                        <div>
                                            <div class="d-flex cst-disable-checkbox"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Member</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee || !cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassNoShowFlatFeeMember"
                                                    name="ClassNoShowFlatFeeMember"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ClassNoShowpercentageFee"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee"
                                            [checked]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                            type="radio" (change)="onChnageRadioButtonStat($event.target.value)"
                                            name="ClassNoShowFlatFee"
                                            value="ClassCancellationClassNoShowpercentageFee"><label
                                            for="ClassNoShowpercentageFee"><span></span>Percentage Fee</label>
                                        <p>A percentage value of the class you wish to charge customers for not showing
                                            up to a class.</p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ClassIsNoShowPercentageClientLead.invalid
                                                        && (ClassIsNoShowPercentageClientLead.dirty || ClassIsNoShowPercentageClientLead.touched)
                                                        || ((!ClassIsNoShowPercentageClientLead.value) || ClassIsNoShowPercentageClientLead.value == null || ClassIsNoShowPercentageClientLead.value > 100)
                                                        && (ClassIsNoShowPercentageClientLead.dirty || ClassIsNoShowPercentageClientLead.touched) && showError && cancellationPolicy.classCancellationPolicy.ClassNoShowPercentageFeeClientLead,
                                            'has-success': (ClassIsNoShowPercentageClientLead.value)
                                                        && ClassIsNoShowPercentageClientLead.valid && (ClassIsNoShowPercentageClientLead.dirty || ClassIsNoShowPercentageClientLead.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><input type="text" min="0" max="100" maxlength="5"
                                                    (keydown)="preventCharacters($event)"
                                                    #ClassIsNoShowPercentageClientLead="ngModel"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)" required
                                                    numberControl
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee || cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassNoShowPercentageFeeClientLead"
                                                    name="ClassNoShowPercentageFeeClientLead"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span></div>
                                        </div>
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ClassIsNoShowPercentageMember.invalid
                                                        && (ClassIsNoShowPercentageMember.dirty || ClassIsNoShowPercentageMember.touched)
                                                        || ((!ClassIsNoShowPercentageMember.value) || ClassIsNoShowPercentageMember.value == null || ClassIsNoShowPercentageMember.value > 100)
                                                        && (ClassIsNoShowPercentageMember.dirty || ClassIsNoShowPercentageMember.touched) && showError && cancellationPolicy.classCancellationPolicy.ClassNoShowPercentageFeeMember,
                                            'has-success': (ClassIsNoShowPercentageMember.value)
                                                        && ClassIsNoShowPercentageMember.valid && (ClassIsNoShowPercentageMember.dirty || ClassIsNoShowPercentageMember.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Member</span><input type="text"
                                                    (keydown)="preventCharacters($event)" min="0" max="100"
                                                    maxlength="5" required numberControl
                                                    #ClassIsNoShowPercentageMember="ngModel"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)"
                                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassNoShowFee || cancellationPolicy.classCancellationPolicy.IsClassNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassNoShowPercentageFeeMember"
                                                    name="ClassNoShowPercentageFeeMember"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasClassBlockCustomer">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Block Bookings</h3>
                        <p>Toggle on to block customer who cancel late or do not show up for classes from making
                            bookings
                            from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                            class="wellyx-checked float-right" (change)="isClassChildSwitchedOffReset()"
                            name="isClassBlockBooking" Block Bookings>
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div Class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Enable Alerts</h3>
                                <p>Toggle on to provide customers a counter on their booking screens for late
                                    cancellation/no show
                                    and to inform them if they are blocked from booking classes online. If you do not
                                    enable alerts,
                                    customers will not be made aware they are blocked and will be informed that the
                                    business does
                                    not accept online bookings.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                    [(ngModel)]="cancellationPolicy.classCancellationPolicy.IsClassBlockBookingAlert"
                                    class="wellyx-checked float-right" name="isClassBlockBookingAlert">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-6">
                                <h3>Block customers with late cancellations that equal</h3>
                            </div>
                            <div class="col-md-6 padding_right label_with_input r_f_column">
                                <div>
                                    <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                    'has-danger': classBlockBookingCancellationAfterClientLead.invalid
                                                && (classBlockBookingCancellationAfterClientLead.dirty || classBlockBookingCancellationAfterClientLead.touched)
                                                || ((!classBlockBookingCancellationAfterClientLead.value) || classBlockBookingCancellationAfterClientLead.value == null)
                                                && showError && cancellationPolicy.classCancellationPolicy.ClassBlockBookingCancellationAfterClientLead,
                                    'has-success': (classBlockBookingCancellationAfterClientLead.value)
                                                && classBlockBookingCancellationAfterClientLead.valid && (classBlockBookingCancellationAfterClientLead.dirty || classBlockBookingCancellationAfterClientLead.touched)
                                    }"><span class="invoice_prefix input_prefix">For
                                            Client/Lead</span><input type="text" maxlength="3" min="1"
                                            (keydown)="preventCharacters($event)"
                                            #classBlockBookingCancellationAfterClientLead="ngModel"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                            (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassBlockBookingCancellationAfterClientLead"
                                            name="ClassBlockBookingCancellationAfterClientLead"
                                            class="form-control text-center mb-md-0">
                                    </div>
                                </div>
                                <div>
                                    <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                    'has-danger': classBlockBookingCancellationAfterMember.invalid
                                                && (classBlockBookingCancellationAfterMember.dirty || classBlockBookingCancellationAfterMember.touched)
                                                || ((!classBlockBookingCancellationAfterMember.value) || classBlockBookingCancellationAfterMember.value == null)
                                                && showError && cancellationPolicy.classCancellationPolicy.ClassBlockBookingCancellationAfterMember,
                                    'has-success': (classBlockBookingCancellationAfterMember.value)
                                                && classBlockBookingCancellationAfterMember.valid && (classBlockBookingCancellationAfterMember.dirty || classBlockBookingCancellationAfterMember.touched)
                                    }"><span class="invoice_prefix input_prefix">For
                                            Member</span><input type="text" maxlength="3" min="1"
                                            (keydown)="preventCharacters($event)"
                                            #classBlockBookingCancellationAfterMember="ngModel"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassBlockBookingCancellationAfterMember"
                                            (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                            name="ClassBlockBookingCancellationAfterMember"
                                            class="form-control text-center mb-md-0"></div>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-6">
                                <h3>Block customers with no shows that equal</h3>
                            </div>
                            <div class="col-md-6 padding_right label_with_input r_f_column">
                                <div>
                                    <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                    'has-danger': classBlockBookingNoShowAfterClientLead.invalid
                                                && (classBlockBookingNoShowAfterClientLead.dirty || classBlockBookingNoShowAfterClientLead.touched)
                                                || ((!classBlockBookingNoShowAfterClientLead.value) || classBlockBookingNoShowAfterClientLead.value == null)
                                                && showError && cancellationPolicy.classCancellationPolicy.ClassBlockBookingNoShowAfterClientLead,
                                    'has-success': (classBlockBookingNoShowAfterClientLead.value)
                                                && classBlockBookingNoShowAfterClientLead.valid && (classBlockBookingNoShowAfterClientLead.dirty || classBlockBookingNoShowAfterClientLead.touched)
                                    }"><span class="invoice_prefix input_prefix">For
                                            Client/Lead</span><input type="text" maxlength="3" min="1"
                                            (keydown)="preventCharacters($event)"
                                            #classBlockBookingNoShowAfterClientLead="ngModel"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                            (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassBlockBookingNoShowAfterClientLead"
                                            name="ClassBlockBookingNoShowAfterClientLead"
                                            class="form-control text-center mb-md-0"></div>
                                </div>
                                <div>
                                    <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                    'has-danger': classBlockBookingNoShowAfterMember.invalid
                                                && (classBlockBookingNoShowAfterMember.dirty || classBlockBookingNoShowAfterMember.touched)
                                                || ((!classBlockBookingNoShowAfterMember.value) || classBlockBookingNoShowAfterMember.value == null)
                                                && showError && cancellationPolicy.classCancellationPolicy.ClassBlockBookingCancellationAfterMember,
                                    'has-success': (classBlockBookingNoShowAfterMember.value)
                                                && classBlockBookingNoShowAfterMember.valid && (classBlockBookingNoShowAfterMember.dirty || classBlockBookingNoShowAfterMember.touched)
                                    }"><span class="invoice_prefix input_prefix">For
                                            Member</span><input type="text" maxlength="3" min="1"
                                            (keydown)="preventCharacters($event)"
                                            #classBlockBookingNoShowAfterMember="ngModel"
                                            [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                            (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                            [(ngModel)]="cancellationPolicy.classCancellationPolicy.ClassBlockBookingNoShowAfterMember"
                                            name="ClassBlockBookingNoShowAfterMember"
                                            class="form-control text-center mb-md-0"></div>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Reset Alert & Block</h3>
                                <p>Reset class late cancellation & no show count back to zero for all customers.</p>
                            </div>
                            <div class="col-md-5 policy_reset pr-0 mob-pa">
                                <div class="optional"><span
                                        *ngIf="ResetByObj.ClassResetCountDate != '' && ResetByObj.ClassResetCountBy != '' ">Last
                                        Update:</span> {{ResetByObj.ClassResetDate | customdate: dateTimeFormat}}
                                    by {{ResetByObj.ClassResetBy}}
                                    <button [disabled]="!cancellationPolicy.classCancellationPolicy.IsClassBlockBooking"
                                        (click)="onResetClassServiceConter(1)">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Service Cancellation -->
<div class="white_bg waitlist_items" *ngIf="hasServiceCancellationPolicy">
    <div class="row center_flex_alignment">
        <div class="col-md-9 col-sm-9">
            <h1>Services Cancellation Policy</h1>
            <p>Toggle on to enable service cancellation policy for core, widget & apps. If this toggle is off, service
                bookings can still be cancelled from core.</p>
        </div>
        <div class="col-md-3 col-sm-3">
            <mat-slide-toggle tabindex="1" (change)="isClassCancellationPolicy()"
                [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellation"
                class="wellyx-checked float-right" name="isServiceCancellation">
            </mat-slide-toggle>
        </div>
        <div class="col-md-12" *ngIf="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellation">
            <div class="form_border my-10"></div>
        </div>
    </div>
    <div class="row" *ngIf="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellation">
        <div class="mr-3"></div>
        <div class="media-body">

            <div *ngIf="hasServiceCancellationPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-9">
                        <h3>Early Service Cancellation - Widget & App</h3>
                        <p>Toggle on to allow customers to cancel their service before the ‘Cancellation Ends Before’
                            time
                            as defined below from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarly"
                            class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                            name="isServiceCancellationEarly">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Cancellation Ends Before</h3>
                                <p>The number of minutes, hours or days a customer can cancel prior to the start time of
                                    the service
                                    from the widget & app. A value of 0 would result in the customers being able to
                                    cancel a service
                                    until the service start time.</p>
                            </div>
                            <div class="col-md-5 padding_right label_with_input mob-pa">
                                <div [ngClass]="{
                                'has-danger': serviceCancellationEarlyEndsBefore.invalid
                                                && (serviceCancellationEarlyEndsBefore.dirty || serviceCancellationEarlyEndsBefore.touched)
                                                || ((!serviceCancellationEarlyEndsBefore.value) || serviceCancellationEarlyEndsBefore.value == null)
                                                && showError && cancellationPolicy.serviceCancellationPolicy.ServiceCancellationEarlyEndsBefore,
                                'has-success': (serviceCancellationEarlyEndsBefore.value)
                                                && serviceCancellationEarlyEndsBefore.valid && (serviceCancellationEarlyEndsBefore.dirty || serviceCancellationEarlyEndsBefore.touched)
                                }"><input type="text" maxlength="4" (keydown)="AllowNumberNumberWithDecimal($event)"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarly"
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationEarlyEndsBefore"
                                        #serviceCancellationEarlyEndsBefore="ngModel" min="0" required numberControl
                                        (ngModelChange)="onchangeDurationTimeForReschedule($event,'reschedule')"
                                        class="form-control text-center mb-md-0"></div>
                                <div class="select_label">
                                    <select class="form-control mob-md-0"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarly"
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationEarlyEndsBeforeDurationType">
                                        <option *ngFor="let durationType of cancellationPolicy.DurationTypeList"
                                            [ngValue]="durationType.DurationTypeID">
                                            {{durationType.DurationTypeName}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-md-0">
                                <h3>Early Cancellation Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they cancel a service
                                    outside the early
                                    cancellation window.</p>
                                <textarea rows="4" class="form-control"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarly"
                                    maxlength="200"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationEarlyDisplayText"
                                    name="ServiceCancellationEarlyDisplayText"
                                    placeholder="You may cancel your service according to the cancellation policy defined and request to receive a full refund."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for cancelling services within the
                                    early
                                    cancellation window from the widget & app.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarly"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationEarlyBenefit"
                                    class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                                    name="isServiceCancellationEarlyBenefit">
                                </mat-slide-toggle>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasServiceReschedulePolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Service Reschedule</h3>
                        <p>Toggle on to allow customers to reschedule services from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                            class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                            name="isServiceReschedule">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-md-0">
                                <h3>Service Reschedule Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they reschedule a service.
                                </p>
                                <textarea rows="4" class="form-control" maxlength="200"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleDisplayText"
                                    name="ServiceRescheduleDisplayText"
                                    placeholder="You may reschedule a service according to the reschedule policy."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-8">
                                <h3>Reschedule Ends Before</h3>
                                <p>The number of minutes, hours or days a customer can reschedule prior to the start
                                    time of the
                                    services booked from the widget & app. A value of 0 would result in the customers
                                    being able to
                                    reschedule the services until the start time. Once the service time has started, it
                                    cannot be
                                    rescheduled.
                                </p>
                            </div>
                            <div class="col-md-4 padding_right label_with_input mob-pa">
                                <div [ngClass]="{
                                'has-danger': serviceRescheduleEndsBefore.invalid
                                            && (serviceRescheduleEndsBefore.dirty || serviceRescheduleEndsBefore.touched)
                                            || ((!serviceRescheduleEndsBefore.value) || serviceRescheduleEndsBefore.value == null)
                                            && showError && cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleEndsBefore,
                                'has-success': (serviceRescheduleEndsBefore.value)
                                            && serviceRescheduleEndsBefore.valid && (serviceRescheduleEndsBefore.dirty || serviceRescheduleEndsBefore.touched)
                                }"><input type="text" maxlength="4" min="0" class="form-control text-center mb-md-0"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                        (keydown)="AllowNumberNumberWithDecimal($event)" required numberControl
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleEndsBefore"
                                        #serviceRescheduleEndsBefore="ngModel"
                                        (ngModelChange)="onchangeDurationTimeForReschedule($event, 'reschedule')"
                                        name="ServiceRescheduleEndsBefore"></div>
                                <div class="select_label">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleEndsBeforeDurationType"
                                        name="ServiceRescheduleEndsBeforeDurationType">
                                        <option *ngFor="let durationType of cancellationPolicy.DurationTypeList"
                                            [ngValue]="durationType.DurationTypeID">
                                            {{durationType.DurationTypeName}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-8">
                                <h3>Reschedule Rule</h3>
                                <p>Define a rule for service reschedule. ‘Any Service’ would allow the customer to
                                    reschedule to any
                                    other available service, irrespective of the price. ‘Service of Same or Greater
                                    Price’ would
                                    limit the customer to book something that is the same or greater price as his
                                    existing service.
                                    E.g. If the customer has booked a service for $10 and the rule is ‘Service of Same
                                    or Greater
                                    Price’, the system would only allow the customer to reschedule to a service that is
                                    $10 or more.
                                </p>
                            </div>
                            <div class="col-md-4 padding_right label_with_input mob-pa">
                                <div class="select_label">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleRule"
                                        name="ServiceRescheduleRule">
                                        <option *ngFor="let serviceRescheduleRule of serviceCancellationRescheduleRule"
                                            [value]="serviceRescheduleRule.value">
                                            {{serviceRescheduleRule.text}} </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Rescheduling Limit</h3>
                                <p>How many times can a customer reschedule the booking? Once the limit is reached, the
                                    customer
                                    will no longer see the option to reschedule.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right label_with_input mob-pa">
                                <div class="select_label">
                                    <select class="form-control mb-md-0"
                                        [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                        [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceRescheduleLimit"
                                        name="ServiceRescheduleLimit">
                                        <option *ngFor="let classRescheduleLimit of cancellationPolicyRescheduleLimit"
                                            [ngValue]="classRescheduleLimit.value">
                                            {{classRescheduleLimit.text}} </option>
                                    </select></div>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-7">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for rescheduling the original service
                                    from the
                                    widget & app.
                                </p>
                            </div>
                            <div class="col-md-5 padding_right label_with_input mob-pa">
                                <mat-slide-toggle tabindex="1" class="wellyx-checked float-right"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceReschedule"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceRescheduleBenefit"
                                    name="isClassCancellationLate">
                                </mat-slide-toggle>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasServiceLateCancellationPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Late Cancellation</h3>
                        <p>Toggle on to allow customers to cancel their services outside the early cancellation window.
                        </p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLate"
                            class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                            name="isServiceCancellationLate">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0">
                                <h3>Late Cancellation Display Text</h3>
                                <p class="mb-2">Text that will be displayed to customers when they cancel a service
                                    outside the early
                                    cancellation window.</p>
                                <textarea rows="4" class="form-control"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLate"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLateDisplayText"
                                    name="ServiceCancellationLateDisplayText" maxlength="200"
                                    placeholder="Cancellation outside the early cancellation window will result in a late cancellation fee."> </textarea>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits for cancelling services after the
                                    early
                                    cancellation window has ended.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLate"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateBenefit"
                                    class="wellyx-checked float-right" name="isServiceCancellationLateBenefit">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Late Cancellation Fee</h3>
                                <p>Toggle on to charge customers a fee for late cancellation.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLate"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee"
                                    class="wellyx-checked float-right" name="BookingClasses">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ServiceCancellationLateFlatFeeID"
                                            [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee"
                                            [checked]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ServiceCancellationLateFlatFee" type="radio"
                                            name="ServiceCancellationLateFlatFee"><label
                                            for="ServiceCancellationLateFlatFeeID"><span></span>Flat Fee</label>
                                        <p>A specific amount you wish to charge customers for cancelling a service
                                            outside the early
                                            cancellation window.</p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                                        <div>
                                            <div class="cst-disable-checkbox d-flex"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLateFlatFeeClientLead"
                                                    name="ServiceCancellationLateFlatFeeClientLead"
                                                    class="form-control text-center mb-md-0"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee || !cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee">
                                            </div>
                                        </div>
                                        <div>
                                            <div class="cst-disable-checkbox d-flex"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Member</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLateFlatFeeMember"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee || !cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee"
                                                    name="ServiceCancellationLateFlatFeeMember"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ServiceCancellationLatePercentageFeeID"
                                            [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee"
                                            [checked]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ServiceCancellationLatePercentageFee" type="radio"
                                            name="ServiceCancellationLatePercentageFee"><label
                                            for="ServiceCancellationLatePercentageFeeID"><span></span>Percentage
                                            Fee</label>
                                        <p>A percentage value of the service you wish to charge customers for cancelling
                                            a service outside
                                            the early cancellation window.</p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ServiceIsCancellationPercentageClientLead.invalid
                                                        && (ServiceIsCancellationPercentageClientLead.dirty || ServiceIsCancellationPercentageClientLead.touched)
                                                        || ((!ServiceIsCancellationPercentageClientLead.value) || ServiceIsCancellationPercentageClientLead.value == null
                                                        || ServiceIsCancellationPercentageClientLead.value > 100) && showError && cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLatePercentageFeeClientLead,
                                            'has-success': (ServiceIsCancellationPercentageClientLead.value)
                                                        && ServiceIsCancellationPercentageClientLead.valid && (ServiceIsCancellationPercentageClientLead.dirty || ServiceIsCancellationPercentageClientLead.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><input type="text" min="0" max="100" maxlength="5"
                                                    required numberControl (keydown)="preventCharacters($event)"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)"
                                                    #ServiceIsCancellationPercentageClientLead="ngModel"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLatePercentageFeeClientLead"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee || cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee"
                                                    name="ServiceCancellationLatePercentageFeeClientLead"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="cst-disable-checkbox d-flex" [ngClass]="{
                                            'has-danger': ServiceIsCancellationPercentageMember.invalid
                                                        && (ServiceIsCancellationPercentageMember.dirty || ServiceIsCancellationPercentageMember.touched)
                                                        || ((!ServiceIsCancellationPercentageMember.value) || ServiceIsCancellationPercentageMember.value == null || ServiceIsCancellationPercentageMember.value > 100)
                                                        && (ServiceIsCancellationPercentageMember.dirty || ServiceIsCancellationPercentageMember.touched) && showError && cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLatePercentageFeeMember,
                                            'has-success': (ServiceIsCancellationPercentageMember.value)
                                                        && ServiceIsCancellationPercentageMember.valid && (ServiceIsCancellationPercentageMember.dirty || ServiceIsCancellationPercentageMember.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Member</span><input type="text"
                                                    (keydown)="preventCharacters($event)"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)" min="0"
                                                    max="100" maxlength="5"
                                                    #ServiceIsCancellationPercentageMember="ngModel" required
                                                    numberControl
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceCancellationLatePercentageFeeMember"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFee || cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateFlatFee"
                                                    name="ServiceCancellationLatePercentageFeeMember"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                            <div class="col-md-12">
                                <h3>Require Payment Online</h3>
                                <p>Configure how you wish to charge customers for late cancellation from the widget &
                                    app.</p>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-12"><input id="serviceChargeInstantly" type="radio"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            [checked]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLatePaymentChargeInstantly"
                                            name="isServiceCancellationLatePaymentChargeInstantly"
                                            value="ServiceCancellationLatePaymentChargeInstantly"><label
                                            for="serviceChargeInstantly"><span></span>Charge Instantly</label>
                                        <p>Customer will be unable to late cancel a service, without paying the late
                                            cancellation fee. Once
                                            the late cancellation fee is applied, the booking status & invoices will be
                                            updated accordingly.
                                        </p>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-12"><input id="serviceChargeLater" type="radio"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            [checked]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLatePaymentChargeLater"
                                            name="isServiceCancellationLatePaymentChargeInstantly"
                                            value="ServiceCancellationLatePaymentChargeLater"><label
                                            for="serviceChargeLater"><span></span>Charge
                                            Later</label>
                                        <p>Customer will be able to late cancel a service and the invoice will be
                                            updated instantly, however
                                            customer will not be charged automatically. The invoices can be reviewed and
                                            charged accordingly
                                            from core.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div *ngIf="hasServiceAutomaticRefund">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Automatic Refunds – Widget & App</h3>
                        <p>Toggle on to automatically refund customers who are owed a refund under the early
                            cancellation,
                            late cancellation or the reschedule policy from the widget & app. Please note that only
                            customers who have paid by card will be automatically refunded. Other payment methods will
                            need
                            to be refunded manually.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceCancellationLateRefundColumn"
                            class="wellyx-checked float-right" name="isServiceCancellationLateRefundColumn">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
            </div>

            <div *ngIf="hasServiceNoShowPolicy">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-9">
                        <h3>No Show Fee</h3>
                        <p>Toggle on to apply no show policy and charge no show fees from core.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceNoShow"
                            class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                            name="isServiceNoShow">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="mr-3"></div>
                    <div class="media-body mr-0">
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>Membership Benefit</h3>
                                <p>Toggle on to ensure members lose their benefits when marked as no show.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShow"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowBenefit"
                                    class="wellyx-checked float-right" name="isServiceNoShowBenefit">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>
                        <div class="row waitlist_subtitle align-items-center">
                            <div class="col-md-9">
                                <h3>No Show Fee</h3>
                                <p>Toggle on to charge customers a fee for no show.</p>
                            </div>
                            <div class="col-md-3 pr-0 mob-pa">
                                <mat-slide-toggle tabindex="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShow"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee"
                                    class="wellyx-checked float-right" name="isServiceNoShowFee">
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-12 pr-0 mob-pa">
                                <div class="form_border my-10"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="mr-3"></div>
                            <div class="media-body mr-0">
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ServiceNoShowFlatFeeID"
                                            [checked]="cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee"
                                            [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ServiceNoShowLateFlatFee" type="radio"
                                            name="ServiceNoShowFlatFee"><label
                                            for="ServiceNoShowFlatFeeID"><span></span>Flat
                                            Fee</label>
                                        <p>A specific amount you wish to charge customers for not showing up for a
                                            service.</p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                                        <div>
                                            <div class="cst-disable-checkbox d-flex"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceNoShowFlatFeeClientLead"
                                                    name="ServiceNoShowFlatFeeClientLead"
                                                    class="form-control text-center mb-md-0"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee || !cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee">
                                            </div>
                                        </div>
                                        <div>
                                            <div class="cst-disable-checkbox d-flex"><span
                                                    class="invoice_prefix input_prefix">For
                                                    Member</span><span
                                                    class="dollar_prefix">{{currencyFormat}}</span><input type="text"
                                                    placeholder="0.00" maxlength="13"
                                                    (keydown)="preventCharacters($event)"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceNoShowFlatFeeMember"
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee || !cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee"
                                                    name="ServiceNoShowFlatFeeMember"
                                                    class="form-control text-center mb-md-0"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 pr-0 mob-pa">
                                        <div class="form_border my-10"></div>
                                    </div>
                                </div>
                                <div class="row waitlist_subtitle align-items-center">
                                    <div class="col-md-6"><input id="ServiceNoShowPercentageFeeID" type="radio"
                                            [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee"
                                            (change)="onChnageRadioButtonStat($event.target.value)"
                                            value="ServiceNoShowPercentageFee"
                                            [checked]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee"
                                            name="ServiceNoShowFlatFee"><label
                                            for="ServiceNoShowPercentageFeeID"><span></span>Percentage
                                            Fee</label>
                                        <p>A percentage value of the service you wish to charge customers for not
                                            showing up for a service.
                                        </p>
                                    </div>
                                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ServiceIsNoShowPercentageClientLead.invalid
                                                        && (ServiceIsNoShowPercentageClientLead.dirty || ServiceIsNoShowPercentageClientLead.touched)
                                                        || ((!ServiceIsNoShowPercentageClientLead.value) || ServiceIsNoShowPercentageClientLead.value == null || ServiceIsNoShowPercentageClientLead.value > 100)
                                                        && (ServiceIsNoShowPercentageClientLead.dirty || ServiceIsNoShowPercentageClientLead.touched) && showError && cancellationPolicy.serviceCancellationPolicy.ServiceNoShowPercentageFeeClientLead,
                                            'has-success': (ServiceIsNoShowPercentageClientLead.value)
                                                        && ServiceIsNoShowPercentageClientLead.valid && (ServiceIsNoShowPercentageClientLead.dirty || ServiceIsNoShowPercentageClientLead.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Client/Lead</span><input type="text"
                                                    (keydown)="preventCharacters($event)" min="0" max="100"
                                                    maxlength="5" #ServiceIsNoShowPercentageClientLead="ngModel"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)" required
                                                    numberControl
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee || cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceNoShowPercentageFeeClientLead"
                                                    name="ServiceNoShowPercentageFeeClientLead"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span></div>
                                        </div>
                                        <div>
                                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                                            'has-danger': ServiceIsNoShowPercentageMember.invalid
                                                        && (ServiceIsNoShowPercentageMember.dirty || ServiceIsNoShowPercentageMember.touched)
                                                        || ((!ServiceIsNoShowPercentageMember.value) || ServiceIsNoShowPercentageMember.value == null || ServiceIsNoShowPercentageMember.value > 100)
                                                        && (ServiceIsNoShowPercentageMember.dirty || ServiceIsNoShowPercentageMember.touched) && showError && cancellationPolicy.serviceCancellationPolicy.ServiceNoShowPercentageFeeMember,
                                            'has-success': (ServiceIsNoShowPercentageMember.value)
                                                        && ServiceIsNoShowPercentageMember.valid && (ServiceIsNoShowPercentageMember.dirty || ServiceIsNoShowPercentageMember.touched)
                                            }"><span class="invoice_prefix input_prefix">For
                                                    Member</span><input type="text"
                                                    (keydown)="preventCharacters($event)" min="0" max="100"
                                                    maxlength="5" #ServiceIsNoShowPercentageMember="ngModel"
                                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event)" required
                                                    numberControl
                                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFee || cancellationPolicy.serviceCancellationPolicy.IsServiceNoShowFlatFee"
                                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceNoShowPercentageFeeMember"
                                                    name="ServiceNoShowFlatFeeClientLead"
                                                    class="form-control text-center mb-md-0"><span
                                                    class="dollar_prefix percent_prefix">%</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            <div *ngIf="hasServiceBlockCustomer">
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                    <div class="col-md-9">
                        <h3>Block Bookings</h3>
                        <p>Toggle on to block customer who cancel late or do not show up for services from making
                            bookings
                            from the widget & app.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                            class="wellyx-checked float-right" (change)="isServiceChildSwitchedOffReset()"
                            name="isServiceBlockBooking">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>

                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-9">
                        <h3>Enable Alerts</h3>
                        <p>Toggle on to provide customers a counter on their booking screens for late cancellation/no
                            show
                            and to inform them if they are blocked from booking services online. If you do not enable
                            alerts, customers will not be made aware they are blocked and will be informed that the
                            business
                            does not accept online bookings.</p>
                    </div>
                    <div class="col-md-3 pr-0 mob-pa">
                        <mat-slide-toggle tabindex="1"
                            [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                            [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBookingAlert"
                            class="wellyx-checked float-right" name="isServiceBlockBookingAlert">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-6">
                        <h3>Block customers with late cancellations that equal</h3>
                    </div>
                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                        <div>
                            <div class="cst-disable-checkbox d-flex" [ngClass]="{
                            'has-danger': serviceBlockBookingCancellationAfterClientLead.invalid
                                          && (serviceBlockBookingCancellationAfterClientLead.dirty || serviceBlockBookingCancellationAfterClientLead.touched)
                                          || ((!serviceBlockBookingCancellationAfterClientLead.value) || serviceBlockBookingCancellationAfterClientLead.value == null)
                                          && showError && cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingCancellationAfterClientLead,
                            'has-success': (serviceBlockBookingCancellationAfterClientLead.value)
                                           && serviceBlockBookingCancellationAfterClientLead.valid && (serviceBlockBookingCancellationAfterClientLead.dirty || serviceBlockBookingCancellationAfterClientLead.touched)
                            }"><span class="invoice_prefix input_prefix">For
                                    Client/Lead</span><input type="text" maxlength="3" min="1"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                                    (keydown)="preventCharacters($event)"
                                    #serviceBlockBookingCancellationAfterClientLead="ngModel"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingCancellationAfterClientLead"
                                    (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                    name="ServiceBlockBookingCancellationAfterClientLead"
                                    class="form-control text-center mb-md-0">
                            </div>
                        </div>
                        <div>
                            <div class="cst-disable-checkbox d-flex" [ngClass]="{
                            'has-danger': serviceBlockBookingCancellationAfterMember.invalid
                                          && (serviceBlockBookingCancellationAfterMember.dirty || serviceBlockBookingCancellationAfterMember.touched)
                                          || ((!serviceBlockBookingCancellationAfterMember.value) || serviceBlockBookingCancellationAfterMember.value == null)
                                          && showError && cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingCancellationAfterMember,
                            'has-success': (serviceBlockBookingCancellationAfterMember.value)
                                           && serviceBlockBookingCancellationAfterMember.valid && (serviceBlockBookingCancellationAfterMember.dirty || serviceBlockBookingCancellationAfterMember.touched)
                            }"><span class="invoice_prefix input_prefix">For
                                    Member</span><input type="text" maxlength="3" min="1"
                                    (keydown)="preventCharacters($event)"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                                    #serviceBlockBookingCancellationAfterMember="ngModel"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingCancellationAfterMember"
                                    (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                    name="ServiceBlockBookingCancellationAfterMember"
                                    class="form-control text-center mb-md-0">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-6">
                        <h3>Block customers with no shows that equal</h3>
                    </div>
                    <div class="col-md-6 padding_right label_with_input r_f_column mob-pa">
                        <div>
                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                            'has-danger': serviceBlockBookingNoShowAfterClientLead.invalid
                                          && (serviceBlockBookingNoShowAfterClientLead.dirty || serviceBlockBookingNoShowAfterClientLead.touched)
                                          || ((!serviceBlockBookingNoShowAfterClientLead.value) || serviceBlockBookingNoShowAfterClientLead.value == null)
                                          && showError && cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingNoShowAfterClientLead,
                            'has-success': (serviceBlockBookingNoShowAfterClientLead.value)
                                           && serviceBlockBookingNoShowAfterClientLead.valid && (serviceBlockBookingNoShowAfterClientLead.dirty || serviceBlockBookingNoShowAfterClientLead.touched)
                            }"><span class="invoice_prefix input_prefix">For
                                    Client/Lead</span><input type="text" maxlength="3" min="1"
                                    (keydown)="preventCharacters($event)"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                                    #serviceBlockBookingNoShowAfterClientLead="ngModel"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingNoShowAfterClientLead"
                                    (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                    name="ServiceBlockBookingNoShowAfterClientLead"
                                    class="form-control text-center mb-md-0"></div>
                        </div>
                        <div>
                            <div class="d-flex cst-disable-checkbox" [ngClass]="{
                            'has-danger': serviceBlockBookingNoShowAfterMember.invalid
                                          && (serviceBlockBookingNoShowAfterMember.dirty || serviceBlockBookingNoShowAfterMember.touched)
                                          || ((!serviceBlockBookingNoShowAfterMember.value) || serviceBlockBookingNoShowAfterMember.value == null)
                                          && showError && cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingNoShowAfterMember,
                            'has-success': (serviceBlockBookingNoShowAfterMember.value)
                                           && serviceBlockBookingNoShowAfterMember.valid && (serviceBlockBookingNoShowAfterMember.dirty || serviceBlockBookingNoShowAfterMember.touched)
                            }"><span class="invoice_prefix input_prefix">For
                                    Member</span><input type="text" maxlength="3" min="1"
                                    (keydown)="preventCharacters($event)"
                                    [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                                    #serviceBlockBookingNoShowAfterMember="ngModel"
                                    [(ngModel)]="cancellationPolicy.serviceCancellationPolicy.ServiceBlockBookingNoShowAfterMember"
                                    (ngModelChange)="onchangeDurationTime($event)" required numberControl
                                    name="ServiceBlockBookingNoShowAfterMember"
                                    class="form-control text-center mb-md-0"></div>
                        </div>
                    </div>
                    <div class="col-md-12 pr-0 mob-pa">
                        <div class="form_border my-10"></div>
                    </div>
                </div>
                <div class="row waitlist_subtitle align-items-center">
                    <div class="col-md-7">
                        <h3>Reset Alert & Block</h3>
                        <p>Reset class late cancellation & no show count back to zero for all customers.</p>
                    </div>
                    <div class="col-md-5 policy_reset pr-0 mob-pa">
                        <div class="optional"> <span
                                *ngIf="ResetByObj.ServiceResetCountDate != '' && ResetByObj.ServiceResetCountBy != '' ">Last
                                Update:</span> {{ResetByObj.ServiceResetDate | customdate: dateTimeFormat}}
                            by {{ResetByObj.ServiceResetBy}}
                            <button [disabled]="!cancellationPolicy.serviceCancellationPolicy.IsServiceBlockBooking"
                                (click)="onResetClassServiceConter(2)">Reset</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>